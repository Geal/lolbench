Data and code retrieved and adapted from https://github.com/BurntSushi/rust-snappy/commit/ab302b1f3a326def8dd917532e05ea720be2ed5c.
